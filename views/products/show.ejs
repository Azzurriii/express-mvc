<!DOCTYPE html>
<html>
  <head>
    <title><%= product.name %></title>
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <nav class="nav">
      <a href="/" class="logo">
        <i class="fas fa-store"></i>
        <span>3TGStore</span>
      </a>
      <div class="left-links">
        <a href="/" class="nav-link">
          <i class="fas fa-home"></i>
          <span>Home</span>
        </a>
        <a href="/products" class="nav-link active">
          <i class="fas fa-box"></i>
          <span>Products</span>
        </a>
        <a href="/categories" class="nav-link">
          <i class="fas fa-th-large"></i>
          <span>Categories</span>
        </a>
        <a href="/users/me" class="nav-link">
          <i class="fas fa-user"></i>
          <span>Account</span>
        </a>
      </div>
      <div class="right-links">
        <a href="/users/logout" class="cart-link" onclick="return confirm('Are you sure you want to logout?');">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </a>
      </div>
    </nav>
    <div class="container">
      <div class="card">
        <div class="product-details">
          <div class="product-image">
            <% if (product.image) { %>
              <img src="<%= product.image %>" alt="<%= product.name %>" />
            <% } else { %>
              <div class="no-image">
                <i class="fas fa-image"></i>
                <p>No image available</p>
              </div>
            <% } %>
          </div>
          <div class="product-info">
            <h1><%= product.name %></h1>
            <p class="brand"><i class="fas fa-tag"></i> Brand: <%= product.brand %></p>
            <p class="category"><i class="fas fa-th-large"></i> Category: <%= product.category %></p>
            <p class="description"><%= product.description %></p>
            <p class="price">$<%= product.price %></p>
            <div class="button-group">
              <a href="/products/<%= product.id %>/edit" class="button">
                <i class="fas fa-edit"></i> Edit Product
              </a>
              <a href="/products" class="button delete-button">
                <i class="fas fa-arrow-left"></i> Back to Products
              </a>
            </div>
          </div>
        </div>
      </div>

      <% if (relatedProducts.length > 0) { %>
      <div class="related-products">
        <h2>Related Products</h2>
        <div class="product-list">
          <% relatedProducts.forEach(relatedProduct => { %>
          <div class="product-card">
            <% if (relatedProduct.image) { %>
            <img
              src="<%= relatedProduct.image %>"
              alt="<%= relatedProduct.name %>"
              style="max-width: 100%; height: auto; border-radius: 8px"
            />
            <% } else { %>
            <p>No image available</p>
            <% } %>
            <h3><%= relatedProduct.name %></h3>
            <p>Brand: <%= relatedProduct.brand %></p>
            <p class="price">Price: $<%= relatedProduct.price %></p>
            <a href="/products/<%= relatedProduct.id %>" class="button">
              View Product
            </a>
          </div>
          <% }) %>
        </div>
      </div>
      <% } %>
    </div>
  </body>
</html>
